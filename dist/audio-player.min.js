!function(){function s(t){var e=t.target.self;e.state.playing?e.pause():e.play(),e.state.playing=!e.state.playing}function a(t){var e=t.target.self;e.audio.src=e.songs[t.target.index].file,e.state.index=t.target.index,e.setActive(t.target.index),e.state.playing=!0,e.play()}function o(t){t.target.self.prev()}function l(t){t.target.self.next()}this.Player=function(t,e,i){this.container=t,this.songs=i||[{title:"Amazing",artist:"Kanye West",album:{name:"808s & Heartbreak",image:"kanye-west-808s-heartbreaks.jpg"},file:"audio/Xenojam_-_02_-_Inevitable.mp3"},{title:"Gold",artist:"Imagine Dragons",album:{name:"Smoke + Mirrors",image:"imagine-dragons-smoke-mirrors.jpg"},file:"audio/Water_Features_-_07_-_Outisde_The_Citadel.mp3"},{title:"The Phoenix",artist:"Fall Out Boy",album:{name:"Save Rock And Roll",image:"fall-out-boy-save-rock-and-roll.jpg"},file:"audio/Visciera_-_02_-_The_Tide.mp3"}],this.settings=function(t,e){for(property in e)e.hasOwnProperty(property)&&(t[property]=e[property]);return t}({autoplay:!1},e),this.state={playing:this.settings.autoplay,index:0},this.init()},Player.prototype.init=function(){this.audio=document.createElement("audio"),this.songList=document.createElement("ul"),this.prevBtn=document.createElement("button"),this.playBtn=document.createElement("button"),this.nextBtn=document.createElement("button");for(var t=0;t<this.songs.length;t++){var e=document.createElement("li"),i=document.createElement("div");i.className="title",i.textContent=this.songs[t].title;var n=document.createElement("div");n.className="artist",n.textContent=this.songs[t].artist,e.appendChild(i),e.appendChild(n),e.index=t,e.self=this,e.addEventListener("click",a,{once:!0,capture:!0}),this.songList.appendChild(e)}this.audio.src=this.songs[0].file,this.prevBtn.textContent="Prev",this.playBtn.textContent=this.settings.autoplay?"Pause":"Play",this.nextBtn.textContent="Next",this.container.appendChild(this.audio),this.container.appendChild(this.songList),this.container.appendChild(this.prevBtn),this.container.appendChild(this.playBtn),this.container.appendChild(this.nextBtn),this.settings.autoplay&&this.audio.play(),(((this.prevBtn.self=this).playBtn.self=this).nextBtn.self=this).prevBtn.addEventListener("click",o),this.playBtn.addEventListener("click",s),this.nextBtn.addEventListener("click",l),this.setActive(0)},Player.prototype.play=function(){this.playBtn.textContent="Pause",this.audio.play()},Player.prototype.pause=function(){this.playBtn.textContent="Play",this.audio.pause()},Player.prototype.prev=function(){var t=this.state.index-1<0?this.songs.length-1:this.state.index-1;this.audio.src=this.songs[t].file,this.state.index=t,this.setActive(t),this.state.playing=!0,this.play()},Player.prototype.next=function(){var t=this.state.index+1<this.songs.length?this.state.index+1:0;this.audio.src=this.songs[t].file,this.state.index=t,this.setActive(t),this.state.playing=!0,this.play()},Player.prototype.setActive=function(t){for(var e=this.songList.children,i=0;i<e.length;i++)e[i].className=i===t?"active":""}}();
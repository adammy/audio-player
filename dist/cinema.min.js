!function(){function t(t){var e=parseInt(t),n=e%60;return n<10&&(n="0"+n),Math.floor(e/60)+":"+n}this.Cinema=function(t,e){this.media=t,this.settings=function(t,e){for(property in e)e.hasOwnProperty(property)&&(t[property]=e[property]);return t}({autoplay:!1,display:{fullScreenBtn:!0,times:!0,progressBar:!0}},e),this.state={playing:!this.settings.autoplay,fullScreen:!1},this.render()},Cinema.prototype.render=function(){this.media.className="cinema-media",this.media.addEventListener("timeupdate",this.renderTime.bind(this)),this.media.addEventListener("ended",this.videoEndRender.bind(this)),this.container=document.createElement("div"),this.container.className="cinema-container",this.media.parentNode.insertBefore(this.container,this.media.nextSibling),this.container.appendChild(this.media),this.toolbar=document.createElement("div"),this.toolbar.className="cinema-toolbar",this.container.appendChild(this.toolbar),this.playBtn=document.createElement("button"),this.playBtn.className="cinema-btn cinema-btn-play",this.playBtn.addEventListener("click",this.playPause.bind(this)),this.toolbar.appendChild(this.playBtn),this.settings.display.fullScreenBtn&&(this.fullScreenBtn=document.createElement("button"),this.fullScreenBtn.className="cinema-btn cinema-btn-fullscreen",this.fullScreenBtn.textContent="Full Screen",this.toolbar.appendChild(this.fullScreenBtn),this.fullScreenBtn.addEventListener("click",this.fullScreen.bind(this))),this.settings.display.times&&(this.timeContainer=document.createElement("span"),this.timeContainer.className="cinema-times",this.elapsedTimeSpan=document.createElement("span"),this.elapsedTimeSpan.className="cinema-times-elasped",this.elapsedTimeSpan.textContent="0:00",this.timeContainer.appendChild(this.elapsedTimeSpan),this.timeSeparatorSpan=document.createElement("span"),this.timeSeparatorSpan.className="cinema-times-separator",this.timeSeparatorSpan.textContent=" / ",this.timeContainer.appendChild(this.timeSeparatorSpan),this.media.addEventListener("durationchange",this.renderDuration.bind(this)),this.toolbar.appendChild(this.timeContainer)),this.playPause()},Cinema.prototype.playPause=function(){this.state.playing?this.pause():this.play()},Cinema.prototype.play=function(){this.media.play(),this.playBtn.textContent="Pause",this.state.playing=!0},Cinema.prototype.pause=function(){this.media.pause(),this.playBtn.textContent="Play",this.state.playing=!1},Cinema.prototype.fullScreen=function(){this.state.fullScreen?this.container.classList.remove("cinema-fullscreen"):this.container.classList.add("cinema-fullscreen"),this.state.fullScreen=!this.state.fullScreen},Cinema.prototype.renderTime=function(){this.elapsedTimeSpan.textContent=t(this.media.currentTime)},Cinema.prototype.renderDuration=function(){this.durationSpan=document.createElement("span"),this.durationSpan.className="cinema-times-duration",this.durationSpan.textContent=t(this.media.duration)||"Not Applicable",this.timeContainer.appendChild(this.durationSpan)},Cinema.prototype.videoEndRender=function(){this.state.playing=!1,this.playBtn.textContent="Replay"}}();
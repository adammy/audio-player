!function(){this.Player=function(t,e,i){this.container=t,this.songs=i||[{title:"Amazing",artist:"Kanye West",album:{name:"808s & Heartbreak",image:"kanye-west-808s-heartbreaks.jpg"},file:"audio/Xenojam_-_02_-_Inevitable.mp3"},{title:"Gold",artist:"Imagine Dragons",album:{name:"Smoke + Mirrors",image:"imagine-dragons-smoke-mirrors.jpg"},file:"audio/Water_Features_-_07_-_Outisde_The_Citadel.mp3"},{title:"The Phoenix",artist:"Fall Out Boy",album:{name:"Save Rock And Roll",image:"fall-out-boy-save-rock-and-roll.jpg"},file:"audio/Visciera_-_02_-_The_Tide.mp3"}],this.settings=function(t,e){for(property in e)e.hasOwnProperty(property)&&(t[property]=e[property]);return t}({autoplay:!1},e),this.state={playing:!this.settings.autoplay,index:0},this.render()},Player.prototype.render=function(){this.audio=document.createElement("audio"),this.songList=document.createElement("ul"),this.prevBtn=document.createElement("button"),this.playBtn=document.createElement("button"),this.nextBtn=document.createElement("button");for(var t=0;t<this.songs.length;t++){var e=document.createElement("li");0===t&&(e.className="active");var i=document.createElement("div");i.className="title",i.textContent=this.songs[t].title;var n=document.createElement("div");n.className="artist",n.textContent=this.songs[t].artist,e.appendChild(i),e.appendChild(n),e.index=t,e.addEventListener("click",this.changeSong.bind(this)),this.songList.appendChild(e)}this.audio.src=this.songs[0].file,this.prevBtn.textContent="Prev",this.nextBtn.textContent="Next",this.container.appendChild(this.audio),this.container.appendChild(this.songList),this.container.appendChild(this.prevBtn),this.container.appendChild(this.playBtn),this.container.appendChild(this.nextBtn),this.prevBtn.action="prev",this.nextBtn.action="next",this.prevBtn.addEventListener("click",this.changeSong.bind(this)),this.playBtn.addEventListener("click",this.play.bind(this)),this.nextBtn.addEventListener("click",this.changeSong.bind(this)),this.play()},Player.prototype.play=function(){this.state.playing?this.audio.pause():this.audio.play(),this.playBtn.innerHTML=this.state.playing?"Play":"Pause",this.state.playing=!this.state.playing},Player.prototype.changeSong=function(t){var e,i=t.currentTarget.action||t.currentTarget.index;if("prev"===i)e=this.state.index-1<0?this.songs.length-1:this.state.index-1;else if("next"===i)e=this.state.index+1<this.songs.length?this.state.index+1:0;else{if(!("number"==typeof i&&i<=this.songs.length))return new Error("The changeSong() method was run without an appropriate action property on the event param.");e=i}for(var n=this.songList.children,s=0;s<n.length;s++)n[s].className=s===e?"active":"";this.audio.src=this.songs[e].file,this.state.index=e,this.state.playing=!1,this.play()}}();